from bento.commands import hooks

@hooks.pre_build()
def pbuild(context):
    bld = context.waf_context

    def builder(extension):
        bld(features="c pyext cshlib bento f2py",
            source=extension.sources,
            target=extension.name,
            includes="src",
            use="dfftpack fftpack")
    context.register_builder("_fftpack", builder)
    context.register_builder("convolve", builder)
